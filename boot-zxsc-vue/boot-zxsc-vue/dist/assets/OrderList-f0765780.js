import{_ as v,r as g,j as h,o,c as u,g as f,d as t,F as y,l as S,t as l,n as L,e as M,z as b}from"./index-ecdd9460.js";import{A as x}from"./AdminSidebar-38f02eac.js";import{a as i}from"./index-dd35b931.js";const C={class:"admin-layout"},N={class:"main-content"},w=["onUpdate:modelValue","onChange"],A={__name:"OrderList",setup(D){const r=g([]),n=async()=>{try{const a=await i.orderList();a.code===200&&(r.value=a.data)}catch(a){console.error("加载订单列表失败",a)}},c=a=>a?new Date(a).toLocaleString("zh-CN"):"",p=a=>({0:"待支付",1:"已支付",2:"已发货",3:"已完成",4:"已取消"})[a]||"未知",m=a=>({0:"status-pending",1:"status-paid",2:"status-shipped",3:"status-completed",4:"status-cancelled"})[a]||"",_=async(a,e)=>{try{const s=await i.orderUpdateStatus({id:a,status:e});s.code,alert(s.message),n()}catch{alert("更新失败"),n()}};return h(()=>{n()}),(a,e)=>(o(),u("div",C,[f(x),t("div",N,[e[2]||(e[2]=t("div",{class:"page-header"},[t("h2",{class:"page-title"},"订单管理")],-1)),t("table",null,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",null,"订单号"),t("th",null,"用户"),t("th",null,"总价"),t("th",null,"收货地址"),t("th",null,"状态"),t("th",null,"下单时间"),t("th",null,"操作")])],-1)),t("tbody",null,[(o(!0),u(y,null,S(r.value,s=>(o(),u("tr",{key:s.id},[t("td",null,l(s.orderNo),1),t("td",null,l(s.userName),1),t("td",null,"¥"+l(s.totalAmount),1),t("td",null,l(s.address),1),t("td",null,[t("span",{class:L(["status-badge",m(s.status)])},l(p(s.status)),3)]),t("td",null,l(c(s.createTime)),1),t("td",null,[M(t("select",{"onUpdate:modelValue":d=>s.status=d,onChange:d=>_(s.id,s.status),class:"status-select"},[...e[0]||(e[0]=[t("option",{value:0},"待支付",-1),t("option",{value:1},"已支付",-1),t("option",{value:2},"已发货",-1),t("option",{value:3},"已完成",-1),t("option",{value:4},"已取消",-1)])],40,w),[[b,s.status,void 0,{number:!0}]])])]))),128))])])])]))}},z=v(A,[["__scopeId","data-v-a9970127"]]);export{z as default};
